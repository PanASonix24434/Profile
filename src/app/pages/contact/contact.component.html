<section
  class="py-20 bg-gray-50 dark:bg-gray-800 transition-colors duration-300 px-6 max-w-6xl mx-auto"
  data-aos="fade-up"
  data-aos-duration="1000"
  data-aos-easing="ease-in-out"
>
  <div class="max-w-3xl mx-auto px-6">
    <h1 class="text-4xl font-bold text-center text-gray-800 dark:text-white mb-8">📬 Contact Me</h1>

    <form (ngSubmit)="onSubmit()" class="space-y-6">
      <!-- Honeypot (anti-spam) -->
      <input
        type="text"
        name="_honeypot"
        [(ngModel)]="honeypot"
        tabindex="-1"
        autocomplete="off"
        class="absolute left-[-9999px]"
      />

      <!-- Name -->
      <label class="block">
        <span class="text-gray-700 dark:text-gray-300 font-medium after:ml-0.5 after:text-red-500 after:content-['*']">
          Name
        </span>
        <input
          type="text"
          name="name"
          [(ngModel)]="name"
          placeholder="Your name"
          class="w-full mt-1 px-4 py-2 border rounded-md dark:bg-gray-800 dark:text-white dark:border-gray-700"
          required
        />
      </label>

      <!-- Email -->
      <label class="block">
        <span class="text-gray-700 dark:text-gray-300 font-medium after:ml-0.5 after:text-red-500 after:content-['*']">
          Email
        </span>
        <input
          type="email"
          name="email"
          [(ngModel)]="email"
          placeholder="you@example.com"
          class="w-full mt-1 px-4 py-2 border rounded-md dark:bg-gray-800 dark:text-white dark:border-gray-700"
          required
        />
      </label>

      <!-- Message -->
      <label class="block">
        <span class="text-gray-700 dark:text-gray-300 font-medium after:ml-0.5 after:text-red-500 after:content-['*']">
          Message
        </span>
        <textarea
          name="message"
          rows="5"
          [(ngModel)]="message"
          placeholder="Tell me about your project or question..."
          class="w-full mt-1 px-4 py-2 border rounded-md dark:bg-gray-800 dark:text-white dark:border-gray-700"
          required
        ></textarea>
      </label>

      <!-- Submit Button -->
      <button
        type="submit"
        [disabled]="isLoading"
        class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-md transition w-full sm:w-auto flex items-center justify-center gap-2"
      >
        <svg *ngIf="isLoading" class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
          <path class="opacity-75" fill="currentColor"
                d="M4 12a8 8 0 018-8v8H4z" />
        </svg>
        <span *ngIf="!isLoading">Send Message</span>
        <span *ngIf="isLoading">Sending...</span>
      </button>
    </form>

    <!-- ✅ Success Toast -->
    <div
      *ngIf="showToast"
      class="mt-6 text-sm text-center px-4 py-3 rounded-md font-medium animate-fade-in
             bg-green-100 text-green-800 dark:bg-green-700 dark:text-white"
    >
      ✅ Message sent successfully!
    </div>

    <!-- ❌ Invalid Email Toast -->
    <div
      *ngIf="showInvalidEmail"
      class="mt-4 text-sm text-center px-4 py-3 rounded-md font-medium animate-fade-in
             bg-red-100 text-red-800 dark:bg-red-700 dark:text-white"
    >
      ⚠️ Please enter a valid email address.
    </div>
  </div>
</section>
